<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Introduction - Cobalt Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html" class="active"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Language</li><li class="chapter-item expanded "><a href="comments.html"><strong aria-hidden="true">2.</strong> Comments</a></li><li class="chapter-item expanded "><a href="builtin_types.html"><strong aria-hidden="true">3.</strong> Built-in types</a></li><li class="chapter-item expanded "><a href="custom_types.html"><strong aria-hidden="true">4.</strong> Custom types</a></li><li class="chapter-item expanded "><a href="variables.html"><strong aria-hidden="true">5.</strong> Variables</a></li><li class="chapter-item expanded "><a href="blocks.html"><strong aria-hidden="true">6.</strong> Blocks</a></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">7.</strong> Functions</a></li><li class="chapter-item expanded "><a href="operators.html"><strong aria-hidden="true">8.</strong> Operators</a></li><li class="chapter-item expanded "><a href="literals.html"><strong aria-hidden="true">9.</strong> Literals</a></li><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">10.</strong> Modules</a></li><li class="chapter-item expanded affix "><li class="part-title">Toolchain</li><li class="chapter-item expanded "><a href="co_cli.html"><strong aria-hidden="true">11.</strong> Compiler CLI</a></li><li class="chapter-item expanded affix "><li class="part-title">Contributors</li><li class="chapter-item expanded "><a href="architecture.html"><strong aria-hidden="true">12.</strong> Architecture</a></li><li class="chapter-item expanded "><a href="todo.html"><strong aria-hidden="true">13.</strong> TODO</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cobalt Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Cobalt is a high-level, compiled language with similar uses to C++. It aims to be more modern than C++, but offer more freedom than Rust.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<h3 id="binaries"><a class="header" href="#binaries">Binaries</a></h3>
<p>Prebuilt versions are available from the <a href="https://github.com/matt-cornell/cobalt-lang/releases/latest">releases page</a>. As of right now, only the Linux <code>x86_64</code> build and Apple Silicon (<code>arm64</code>) is available.</p>
<h3 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h3>
<p>In order to build from source, you will need <code>git</code>, <code>ssh</code>, and LLVM 15 (version 15.0.X for any minor version X). </p>
<p>The LLVM dependency is the most likely to cause trouble. It is unlikely that this specific version (e.g. 15.0.0) is already on your machine. You can download it by finding the appropriate version on the <a href="https://releases.llvm.org/download.html">LLVM releases page</a>, or through a package manager. Remember where you install it.</p>
<p>Now we are ready to build Cobalt. Visit the <a href="https://github.com/matt-cornell/cobalt-lang/">Github page</a> and clone the repository. Then, run <code>cargo build</code>:</p>
<pre><code>&gt; git clone https://github.com/matt-cornell/cobalt-lang
&gt; cd cobalt-lang
&gt; cargo build
</code></pre>
<p>By default, <code>cargo</code> builds the <code>dev</code> profile which is unoptimized and intended for testing/development. You can build release by adding the <code>--release</code> flag, e.g. <code>cargo build --release</code>.</p>
<p>Depending on how you installed LLVM, you may get compilation error mentioning missing <code>LLVM_SYS_150_PREFIX</code> and <code>LLVM_SYS_15_PREFIX</code> (or the <code>16</code> counterparts). Both of these environment variables should be set to point to where you installed LLVM. You can export these environment variables (so they are set globally) or export them directly to <code>cargo</code>. For example, if I installed LLVM in my home directory, I could do this:</p>
<pre><code>&gt; LLVM_SYS_150_PREFIX=~/llvm-15.0.0/ LLVM_SYS_15_PREFIX=~/llvm-15.0.0/ cargo build
</code></pre>
<h3 id="adding-to-path"><a class="header" href="#adding-to-path">Adding to path</a></h3>
<p>If you downloaded the prebuilt binary, you should now have an executable called <code>co</code>. If you build from source, it will probably be in <code>target/&lt;PROFILE&gt;/co</code>, where <code>&lt;PROFILE&gt;</code> is something like <code>debug</code> or <code>release</code>. In bash you can add this to <code>PATH</code> as follows:</p>
<pre><code>&gt; export PATH=path/to/co:$PATH
</code></pre>
<h2 id="hello-world"><a class="header" href="#hello-world">Hello, World!</a></h2>
<p>Let's write and compile the customary &quot;Hello, World!&quot; program in Cobalt.</p>
<h3 id="source-code"><a class="header" href="#source-code">Source code</a></h3>
<p>The standard file extesion for Cobalt source code is <code>.co</code>. We'll create and open a file called <code>hello_world.co</code>. In it, we write the following code: </p>
<pre><code>@C(extern) fn puts(str: *u8);

fn main(): i32 = {
    puts(&quot;Hello, World!&quot;);

    0
};
</code></pre>
<p>The first line declares that we want to use an externally-defined function <code>puts()</code>. </p>
<ul>
<li>The function <code>puts()</code> is defined in the C standard library, which Cobalt automatically links against.</li>
<li>The <code>@C(extern)</code> decoration can be thought of as declaring that the function <code>puts()</code> is defined in C. On a techincal level, it disables name mangling, sets calling convention, and marks <code>puts()</code> as externally defined.</li>
<li>We then tell Cobalt that the <code>puts()</code> function we are looking for takes a single argument (named <code>str</code>, though note that the actual name of the parameter is irrelevent) of type <code>*u8</code>.</li>
<li>The type <code>u8</code> represents a byte, and the type <code>*u8</code> represents a pointer to constant bytes. The C function <code>puts()</code> expects a single paramater of type <code>const char*</code>. A <code>char</code> in C is just a byte, so the C type <code>const char*</code> corresponds to the Cobalt type <code>*u8</code>.</li>
</ul>
<p>Next we define a function <code>main()</code> which takes no arguments and returns an <code>i32</code>, which is a 32-bit integer.</p>
<ul>
<li>The name <code>main</code> is not arbitrary; the compiler will look for the function with exactly this name to execute. Executing the program can be thought of as calling the function <code>main()</code>.</li>
<li>Note the <code>=</code> sign in the function declaration, and the <code>;</code> at the very end.</li>
<li>The function first calls <code>puts()</code> with the argument <code>&quot;Hello, World!&quot;</code>. String literals, surrounded by quotations marks, have type <code>*u8</code>. </li>
<li>Finally, the line <code>0</code> returns the value <code>0</code> from the function. There is no <code>return</code> keyword at the moment.</li>
</ul>
<h3 id="compiling"><a class="header" href="#compiling">Compiling</a></h3>
<p>The Cobalt compiler, which we'll just call <code>co</code> from now on, supports ahead-of-time (aot) and just-in-time (jit) compilation. On a basic level, aot compilation will output an executible file that can be run at any time. Jit compilation will run the program right now, and will not output any file. Let's see how to call both. If your shell cannot find a program named <code>co</code>, make sure it's in your path (see Installation above).</p>
<p>Jit looks like:</p>
<pre><code>&gt; co jit hello_world.co 
Hello, World!
</code></pre>
<p>Aot looks like:</p>
<pre><code>&gt; co aot hello_world.co 
&gt; ./hello_world
Hello, World!
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="comments.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="comments.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
