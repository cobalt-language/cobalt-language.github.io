---
const { src } = Astro.props;

const KEYWORDS = ["let", "mut", "const", "type"];
var in_comment = false;
---

<span class="line">
  {
    src.split(" ").map((word: string) => {
      if (in_comment) {
        return <span class="comment">{word + " "}</span>;
      } else if (KEYWORDS.includes(word)) {
        return <span class="keyword">{word + " "}</span>;
      } else if (word === "#") {
        in_comment = true;
        return <span class="comment">{word + " "}</span>;
      } else if (word[0] === "@") {
        return <span class="annotation">{word + " "}</span>;
      } else {
        return <span class="text">{word + " "}</span>;
      }
    })
  }
  <br />
</span>

<style>
  .keyword {
    font-weight: bold;
  }

  .text {
  }

  .comment {
    color: var(--CODE-CS-comment);
  }

  .annotation {
    color: var(--CODE-CS-annotation);
  }
</style>
